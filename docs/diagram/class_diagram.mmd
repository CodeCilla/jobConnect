classDiagram
    %% ======================
    %% Domaine Métier
    %% ======================

    class Utilisateur {
        +id: int
        +email: string
        +motDePasse: string
        +role: Role
        +nomAffiche: string
        +bio: string
        +telephone: string
        +urlCV: string
        +siteWeb: string
        +github: string
        +portfolio: string
        +urlLogo: string
        +estAdminValide: boolean
        +estMentorDisponible: boolean
        +estMasque: boolean
        +cguAcceptees: boolean

        +sInscrire()
        +seConnecter()
        +mettreAJourProfil()
        +ajouterCompetence(competence: Competence)
        +retirerCompetence(competence: Competence)
        +signalerOffre(offre: OffreEmploi, motif: MotifSignalement)
    }

    class OffreEmploi {
        +idOffre: int
        +titre: string
        +type: TypeOffre
        +description: text
        +datePublication: datetime
        +statut: StatutOffre
        +retourAdmin: string

        +publier()
        +modifier()
        +cloturer()
        +valider()
        +rejeter(commentaire: string)
        +ajouterCompetence(competence: Competence)
        +retirerCompetence(competence: Competence)
    }

    class Candidature {
        +idCandidature: int
        +statut: StatutCandidature
        +dateCandidature: datetime
        +urlCVSnapshot: string
        +lettreMotivation: string

        +postuler()
        +mettreAJourStatut(statut: StatutCandidature)
        +retirer()
    }

    class Signalement {
        +idSignalement: int
        +motif: MotifSignalement
        +description: text
        +dateSignalement: datetime
        +estTraite: boolean

        +creer()
        +marquerCommeTraite()
    }

    class Competence {
        +idCompetence: int
        +nom: string
    }

    %% ======================
    %% Classes d’association
    %% ======================

    class UtilisateurCompetence {
        +idUtilisateur: int
        +idCompetence: int
    }

    class OffreEmploiCompetence {
        +idOffre: int
        +idCompetence: int
    }

    %% ======================
    %% Configuration
    %% ======================

    class Configuration {
        +id: int
        +cleLegale: string
        +contenuCGU: text

        +mettreAJourContenu()
    }

    %% ======================
    %% Énumérations
    %% ======================

    class Role {
        <<enum>>
        ETUDIANT
        ALUMNI
        ENTREPRISE
        ADMIN
    }

    class TypeOffre {
        <<enum>>
        STAGE
        ALTERNANCE
        TECH
    }

    class StatutOffre {
        <<enum>>
        EN_ATTENTE
        VALIDEE
        REJETEE
        CLOTUREE
    }

    class StatutCandidature {
        <<enum>>
        RECUE
        ENTRETIEN
        REJETEE
        VALIDEE
    }

    class MotifSignalement {
        <<enum>>
        SPAM
        ARNAQUE
        INAPPROPRIE
    }

    %% ======================
    %% Relations
    %% ======================

    Utilisateur "1" --> "0..*" OffreEmploi : publie
    Utilisateur "1" --> "0..*" Candidature : postule
    OffreEmploi "1" --> "0..*" Candidature : recoit

    Utilisateur "1" --> "0..*" Signalement : signale
    OffreEmploi "1" --> "0..*" Signalement : estSignalée

    Utilisateur "1" --> "0..*" UtilisateurCompetence
    Competence "1" --> "0..*" UtilisateurCompetence

    OffreEmploi "1" --> "0..*" OffreEmploiCompetence
    Competence "1" --> "0..*" OffreEmploiCompetence
